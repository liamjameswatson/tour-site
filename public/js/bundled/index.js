var t=require("axios");require("regenerator-runtime/runtime");var e=require("stripe");function r(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};const o=t=>{mapboxgl.accessToken="pk.eyJ1IjoibGlhbWp3YXN0b24iLCJhIjoiY2xocnE5dmJvMHR0ODNqbzg1eDlwMmZ4MyJ9.tKOeD3S8ZqLJMwU0aa75Jg";var e=new mapboxgl.Map({container:"map",style:"mapbox://styles/liamjwaston/clhs1oqry01zl01png17g3nyx",scrollZoom:!1});const r=new mapboxgl.LngLatBounds;t.forEach((t=>{const n=document.createElement("div");n.className="marker",new mapboxgl.Marker({element:n,anchor:"bottom"}).setLngLat(t.coordinates).addTo(e),new mapboxgl.Popup({offset:30}).setLngLat(t.coordinates).setHTML(`<p>Day ${t.day}: ${t.description}</p>`).addTo(e),r.extend(t.coordinates)})),e.fitBounds(r,{padding:{top:200,bottom:100,left:100,right:100}})};var a,i,u={},c=function(t){return t&&t.Math==Math&&t};u=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof n&&n)||function(){return this}()||u||Function("return this")();var s,f;s=!(f=function(t){try{return!!t()}catch(t){return!0}})((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}));var l,p={};l=!f((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}));var v,d=Function.prototype.call;p=l?d.bind(d):function(){return d.apply(d,arguments)};var y={}.propertyIsEnumerable,m=Object.getOwnPropertyDescriptor,g=m&&!y.call({1:2},1);v=g?function(t){var e=m(this,t);return!!e&&e.enumerable}:y;var b;b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}};var h,w,S={},O={},E=Function.prototype,j=E.call,T=l&&E.bind.bind(j,j),P=(O=l?T:function(t){return function(){return j.apply(t,arguments)}})({}.toString),I=O("".slice);w=function(t){return I(P(t),8,-1)};var C=Object,_=O("".split);S=f((function(){return!C("z").propertyIsEnumerable(0)}))?function(t){return"String"==w(t)?_(t,""):C(t)}:C;var L,k;k=function(t){return null==t};var D=TypeError;L=function(t){if(k(t))throw D("Can't call method on "+t);return t},h=function(t){return S(L(t))};var A,M,x,N={},R={},B="object"==typeof document&&document.all,q=(x={all:B,IS_HTMLDDA:void 0===B&&void 0!==B}).all;R=x.IS_HTMLDDA?function(t){return"function"==typeof t||t===q}:function(t){return"function"==typeof t};var F=x.all;N=x.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:R(t)||t===F}:function(t){return"object"==typeof t?null!==t:R(t)};var z,U={};z=function(t,e){return arguments.length<2?(r=u[t],R(r)?r:void 0):u[t]&&u[t][e];var r};var J={};J=O({}.isPrototypeOf);var H,W,$,G={};G="undefined"!=typeof navigator&&String(navigator.userAgent)||"";var X,Z,K=u.process,Q=u.Deno,V=K&&K.versions||Q&&Q.version,Y=V&&V.v8;Y&&(Z=(X=Y.split("."))[0]>0&&X[0]<4?1:+(X[0]+X[1])),!Z&&G&&(!(X=G.match(/Edge\/(\d+)/))||X[1]>=74)&&(X=G.match(/Chrome\/(\d+)/))&&(Z=+X[1]),$=Z;var tt=u.String;H=(W=!!Object.getOwnPropertySymbols&&!f((function(){var t=Symbol();return!tt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&$&&$<41})))&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;var et=Object;U=H?function(t){return"symbol"==typeof t}:function(t){var e=z("Symbol");return R(e)&&J(e.prototype,et(t))};var rt,nt,ot,at=String;ot=function(t){try{return at(t)}catch(t){return"Object"}};var it=TypeError;nt=function(t){if(R(t))return t;throw it(ot(t)+" is not a function")},rt=function(t,e){var r=t[e];return k(r)?void 0:nt(r)};var ut,ct=TypeError;ut=function(t,e){var r,n;if("string"===e&&R(r=t.toString)&&!N(n=p(r,t)))return n;if(R(r=t.valueOf)&&!N(n=p(r,t)))return n;if("string"!==e&&R(r=t.toString)&&!N(n=p(r,t)))return n;throw ct("Can't convert object to primitive value")};var st,ft;var lt,pt={},vt=Object.defineProperty;lt=function(t,e){try{vt(u,t,{value:e,configurable:!0,writable:!0})}catch(r){u[t]=e}return e};var dt="__core-js_shared__",yt=u[dt]||lt(dt,{});pt=yt,(ft=function(t,e){return pt[t]||(pt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var mt,gt={},bt=Object;mt=function(t){return bt(L(t))};var ht=O({}.hasOwnProperty);gt=Object.hasOwn||function(t,e){return ht(mt(t),e)};var wt,St=0,Ot=Math.random(),Et=O(1..toString);wt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Et(++St+Ot,36)};var jt=u.Symbol,Tt=ft("wks"),Pt=H?jt.for||jt:jt&&jt.withoutSetter||wt;st=function(t){return gt(Tt,t)||(Tt[t]=W&&gt(jt,t)?jt[t]:Pt("Symbol."+t)),Tt[t]};var It=TypeError,Ct=st("toPrimitive");M=function(t,e){if(!N(t)||U(t))return t;var r,n=rt(t,Ct);if(n){if(void 0===e&&(e="default"),r=p(n,t,e),!N(r)||U(r))return r;throw It("Can't convert object to primitive value")}return void 0===e&&(e="number"),ut(t,e)},A=function(t){var e=M(t,"string");return U(e)?e:e+""};var _t,Lt,kt=u.document,Dt=N(kt)&&N(kt.createElement);Lt=function(t){return Dt?kt.createElement(t):{}},_t=!s&&!f((function(){return 7!=Object.defineProperty(Lt("div"),"a",{get:function(){return 7}}).a}));var At,Mt,xt=Object.getOwnPropertyDescriptor,Nt=i=s?xt:function(t,e){if(t=h(t),e=A(e),_t)try{return xt(t,e)}catch(t){}if(gt(t,e))return b(!p(v,t,e),t[e])},Rt={};Mt=s&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var Bt,qt=String,Ft=TypeError;Bt=function(t){if(N(t))return t;throw Ft(qt(t)+" is not an object")};var zt=TypeError,Ut=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,Ht="enumerable",Wt="configurable",$t="writable";At=s?Mt?function(t,e,r){if(Bt(t),e=A(e),Bt(r),"function"==typeof t&&"prototype"===e&&"value"in r&&$t in r&&!r[$t]){var n=Jt(t,e);n&&n[$t]&&(t[e]=r.value,r={configurable:Wt in r?r[Wt]:n[Wt],enumerable:Ht in r?r[Ht]:n[Ht],writable:!1})}return Ut(t,e,r)}:Ut:function(t,e,r){if(Bt(t),e=A(e),Bt(r),_t)try{return Ut(t,e,r)}catch(t){}if("get"in r||"set"in r)throw zt("Accessors not supported");return"value"in r&&(t[e]=r.value),t},Rt=s?function(t,e,r){return At(t,e,b(1,r))}:function(t,e,r){return t[e]=r,t};var Gt,Xt,Zt=Function.prototype,Kt=s&&Object.getOwnPropertyDescriptor,Qt=gt(Zt,"name"),Vt={EXISTS:Qt,PROPER:Qt&&"something"===function(){}.name,CONFIGURABLE:Qt&&(!s||s&&Kt(Zt,"name").configurable)}.CONFIGURABLE,Yt={},te=O(Function.toString);R(pt.inspectSource)||(pt.inspectSource=function(t){return te(t)}),Yt=pt.inspectSource;var ee,re,ne=u.WeakMap;re=R(ne)&&/native code/.test(String(ne));var oe,ae=ft("keys");oe=function(t){return ae[t]||(ae[t]=wt(t))};var ie={};ie={};var ue,ce,se,fe="Object already initialized",le=u.TypeError,pe=u.WeakMap;if(re||pt.state){var ve=pt.state||(pt.state=new pe);ve.get=ve.get,ve.has=ve.has,ve.set=ve.set,ue=function(t,e){if(ve.has(t))throw le(fe);return e.facade=t,ve.set(t,e),e},ce=function(t){return ve.get(t)||{}},se=function(t){return ve.has(t)}}else{var de=oe("state");ie[de]=!0,ue=function(t,e){if(gt(t,de))throw le(fe);return e.facade=t,Rt(t,de,e),e},ce=function(t){return gt(t,de)?t[de]:{}},se=function(t){return gt(t,de)}}var ye=(ee={set:ue,get:ce,has:se,enforce:function(t){return se(t)?ce(t):ue(t,{})},getterFor:function(t){return function(e){var r;if(!N(e)||(r=ce(e)).type!==t)throw le("Incompatible receiver, "+t+" required");return r}}}).enforce,me=ee.get,ge=String,be=Object.defineProperty,he=O("".slice),we=O("".replace),Se=O([].join),Oe=s&&!f((function(){return 8!==be((function(){}),"length",{value:8}).length})),Ee=String(String).split("String"),je=Xt=function(t,e,r){"Symbol("===he(ge(e),0,7)&&(e="["+we(ge(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!gt(t,"name")||Vt&&t.name!==e)&&(s?be(t,"name",{value:e,configurable:!0}):t.name=e),Oe&&r&&gt(r,"arity")&&t.length!==r.arity&&be(t,"length",{value:r.arity});try{r&&gt(r,"constructor")&&r.constructor?s&&be(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=ye(t);return gt(n,"source")||(n.source=Se(Ee,"string"==typeof e?e:"")),t};Function.prototype.toString=je((function(){return R(this)&&me(this).source||Yt(this)}),"toString"),Gt=function(t,e,r,n){n||(n={});var o=n.enumerable,a=void 0!==n.name?n.name:e;if(R(r)&&Xt(r,a,n),n.global)o?t[e]=r:lt(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:At(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t};var Te,Pe,Ie,Ce,_e,Le={},ke={},De=Math.ceil,Ae=Math.floor;ke=Math.trunc||function(t){var e=+t;return(e>0?Ae:De)(e)},_e=function(t){var e=+t;return e!=e||0===e?0:ke(e)};var Me=Math.max,xe=Math.min;Ce=function(t,e){var r=_e(t);return r<0?Me(r+e,0):xe(r,e)};var Ne,Re,Be=Math.min;Re=function(t){return t>0?Be(_e(t),9007199254740991):0},Ne=function(t){return Re(t.length)};var qe=function(t){return function(e,r,n){var o,a=h(e),i=Ne(a),u=Ce(n,i);if(t&&r!=r){for(;i>u;)if((o=a[u++])!=o)return!0}else for(;i>u;u++)if((t||u in a)&&a[u]===r)return t||u||0;return!t&&-1}},Fe={includes:qe(!0),indexOf:qe(!1)}.indexOf,ze=O([].push);Ie=function(t,e){var r,n=h(t),o=0,a=[];for(r in n)!gt(ie,r)&&gt(n,r)&&ze(a,r);for(;e.length>o;)gt(n,r=e[o++])&&(~Fe(a,r)||ze(a,r));return a};var Ue,Je={},He=(Je=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]).concat("length","prototype");Pe=Object.getOwnPropertyNames||function(t){return Ie(t,He)},Ue=Object.getOwnPropertySymbols;var We=O([].concat);Le=z("Reflect","ownKeys")||function(t){var e=Pe(Bt(t));return Ue?We(e,Ue(t)):e},Te=function(t,e,r){for(var n=Le(e),o=At,a=i,u=0;u<n.length;u++){var c=n[u];gt(t,c)||r&&gt(r,c)||o(t,c,a(e,c))}};var $e={},Ge=/#|\.prototype\./,Xe=function(t,e){var r=Ke[Ze(t)];return r==Ve||r!=Qe&&(R(e)?f(e):!!e)},Ze=Xe.normalize=function(t){return String(t).replace(Ge,".").toLowerCase()},Ke=Xe.data={},Qe=Xe.NATIVE="N",Ve=Xe.POLYFILL="P";$e=Xe,a=function(t,e){var r,n,o,a,i,c=t.target,s=t.global,f=t.stat;if(r=s?u:f?u[c]||lt(c,{}):(u[c]||{}).prototype)for(n in e){if(a=e[n],o=t.dontCallGetSet?(i=Nt(r,n))&&i.value:r[n],!$e(s?n:c+(f?".":"#")+n,t.forced)&&void 0!==o){if(typeof a==typeof o)continue;Te(a,o)}(t.sham||o&&o.sham)&&Rt(a,"sham",!0),Gt(r,n,a,t)}};var Ye,tr={};Ye=!f((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}));var er=oe("IE_PROTO"),rr=Object,nr=rr.prototype;tr=Ye?rr.getPrototypeOf:function(t){var e=mt(t);if(gt(e,er))return e[er];var r=e.constructor;return R(r)&&e instanceof r?r.prototype:e instanceof rr?nr:null};var or,ar={};or=function(t,e,r){try{return O(nt(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}};var ir,ur=String,cr=TypeError;ir=function(t){if("object"==typeof t||R(t))return t;throw cr("Can't set "+ur(t)+" as a prototype")},ar=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=or(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Bt(r),ir(n),e?t(r,n):r.__proto__=n,r}}():void 0);var sr,fr={},lr={};lr=Object.keys||function(t){return Ie(t,Je)},sr=s&&!Mt?Object.defineProperties:function(t,e){Bt(t);for(var r,n=h(e),o=lr(e),a=o.length,i=0;a>i;)At(t,r=o[i++],n[r]);return t};var pr={};pr=z("document","documentElement");var vr,dr="prototype",yr="script",mr=oe("IE_PROTO"),gr=function(){},br=function(t){return"<"+yr+">"+t+"</"+yr+">"},hr=function(t){t.write(br("")),t.close();var e=t.parentWindow.Object;return t=null,e},wr=function(){try{vr=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;wr="undefined"!=typeof document?document.domain&&vr?hr(vr):(e=Lt("iframe"),r="java"+yr+":",e.style.display="none",pr.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(br("document.F=Object")),t.close(),t.F):hr(vr);for(var n=Je.length;n--;)delete wr[dr][Je[n]];return wr()};ie[mr]=!0,fr=Object.create||function(t,e){var r;return null!==t?(gr[dr]=Bt(t),r=new gr,gr[dr]=null,r[mr]=t):r=wr(),void 0===e?r:sr(r,e)};var Sr;Sr=function(t,e){N(e)&&"cause"in e&&Rt(t,"cause",e.cause)};var Or,Er,jr=Error,Tr=O("".replace),Pr=String(jr("zxcasd").stack),Ir=/\n\s*at [^:]*:[^\n]*/,Cr=Ir.test(Pr);Er=function(t,e){if(Cr&&"string"==typeof t&&!jr.prepareStackTrace)for(;e--;)t=Tr(t,Ir,"");return t};var _r;_r=!f((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",b(1,7)),7!==t.stack)}));var Lr=Error.captureStackTrace;Or=function(t,e,r,n){_r&&(Lr?Lr(t,e):Rt(t,"stack",Er(r,n)))};var kr,Dr,Ar,Mr=(Ar=function(t){if("Function"===w(t))return O(t)})(Ar.bind);Dr=function(t,e){return nt(t),void 0===e?t:l?Mr(t,e):function(){return t.apply(e,arguments)}};var xr,Nr;Nr={};var Rr=st("iterator"),Br=Array.prototype;xr=function(t){return void 0!==t&&(Nr.Array===t||Br[Rr]===t)};var qr,Fr,zr,Ur={},Jr={};Jr[st("toStringTag")]="z",zr="[object z]"===String(Jr);var Hr=st("toStringTag"),Wr=Object,$r="Arguments"==w(function(){return arguments}());Ur=zr?w:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Wr(t),Hr))?r:$r?w(e):"Object"==(n=w(e))&&R(e.callee)?"Arguments":n};var Gr=st("iterator");Fr=function(t){if(!k(t))return rt(t,Gr)||rt(t,"@@iterator")||Nr[Ur(t)]};var Xr=TypeError;qr=function(t,e){var r=arguments.length<2?Fr(t):e;if(nt(r))return Bt(p(r,t));throw Xr(ot(t)+" is not iterable")};var Zr;Zr=function(t,e,r){var n,o;Bt(t);try{if(!(n=rt(t,"return"))){if("throw"===e)throw r;return r}n=p(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Bt(n),r};var Kr=TypeError,Qr=function(t,e){this.stopped=t,this.result=e},Vr=Qr.prototype;kr=function(t,e,r){var n,o,a,i,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),v=!(!r||!r.IS_RECORD),d=!(!r||!r.IS_ITERATOR),y=!(!r||!r.INTERRUPTED),m=Dr(e,f),g=function(t){return n&&Zr(n,"normal",t),new Qr(!0,t)},b=function(t){return l?(Bt(t),y?m(t[0],t[1],g):m(t[0],t[1])):y?m(t,g):m(t)};if(v)n=t.iterator;else if(d)n=t;else{if(!(o=Fr(t)))throw Kr(ot(t)+" is not iterable");if(xr(o)){for(a=0,i=Ne(t);i>a;a++)if((u=b(t[a]))&&J(Vr,u))return u;return new Qr(!1)}n=qr(t,o)}for(c=v?t.next:n.next;!(s=p(c,n)).done;){try{u=b(s.value)}catch(t){Zr(n,"throw",t)}if("object"==typeof u&&u&&J(Vr,u))return u}return new Qr(!1)};var Yr,tn,en=String;tn=function(t){if("Symbol"===Ur(t))throw TypeError("Cannot convert a Symbol value to a string");return en(t)},Yr=function(t,e){return void 0===t?arguments.length<2?"":e:tn(t)};var rn=st("toStringTag"),nn=Error,on=[].push,an=function(t,e){var r,n=J(cn,this);ar?r=ar(nn(),n?tr(this):cn):(r=n?this:fr(cn),Rt(r,rn,"Error")),void 0!==e&&Rt(r,"message",Yr(e)),Or(r,an,r.stack,1),arguments.length>2&&Sr(r,arguments[2]);var o=[];return kr(t,on,{that:o}),Rt(r,"errors",o),r};ar?ar(an,nn):Te(an,nn,{name:!0});var un,cn=an.prototype=fr(nn.prototype,{constructor:b(1,an),message:b(1,""),name:b(1,"AggregateError")});a({global:!0,constructor:!0,arity:2},{AggregateError:an});var sn=TypeError,fn=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw sn("Bad Promise constructor");e=t,r=n})),this.resolve=nt(e),this.reject=nt(r)};un=function(t){return new fn(t)};var ln;ln=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}};var pn,vn={};vn=u.Promise;var dn,yn=st("iterator"),mn=!1;try{var gn=0,bn={next:function(){return{done:!!gn++}},return:function(){mn=!0}};bn[yn]=function(){return this},Array.from(bn,(function(){throw 2}))}catch(t){}dn=function(t,e){if(!e&&!mn)return!1;var r=!1;try{var n={};n[yn]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r};var hn,wn;wn="object"==typeof Deno&&Deno&&"object"==typeof Deno.version;var Sn;Sn="undefined"!=typeof process&&"process"==w(process),hn=!wn&&!Sn&&"object"==typeof window&&"object"==typeof document;vn&&vn.prototype;var On=st("species"),En=!1,jn=R(u.PromiseRejectionEvent);pn={CONSTRUCTOR:$e("Promise",(function(){var t=Yt(vn),e=t!==String(vn);if(!e&&66===$)return!0;if(!$||$<51||!/native code/.test(t)){var r=new vn((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[On]=n,!(En=r.then((function(){}))instanceof n))return!0}return!e&&(hn||wn)&&!jn})),REJECTION_EVENT:jn,SUBCLASSING:En}.CONSTRUCTOR||!dn((function(t){vn.all(t).then(void 0,(function(){}))}));var Tn="No one promise resolved";a({target:"Promise",stat:!0,forced:pn},{any:function(t){var e=this,r=z("AggregateError"),n=un(e),o=n.resolve,a=n.reject,i=ln((function(){var n=nt(e.resolve),i=[],u=0,c=1,s=!1;kr(t,(function(t){var f=u++,l=!1;c++,p(n,e,t).then((function(t){l||s||(s=!0,o(t))}),(function(t){l||s||(l=!0,i[f]=t,--c||a(new r(i,Tn)))}))})),--c||a(new r(i,Tn))}));return i.error&&a(i.value),n.promise}}),a({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=un(this),r=ln(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});const Pn=()=>{const t=document.querySelector(".alert");t&&t.parentElement.removeChild(t)},In=(t,e,r=7)=>{Pn();const n=`<div class="alert alert--${t}">${e}</div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",n),window.setTimeout(Pn,1e3*r)},Cn=async(e,n)=>{try{"success"===(await r(t)({method:"POST",url:"/api/v1/users/login",data:{email:e,password:n},withCredentials:!0})).data.status&&(In("success","Logged in successfully"),window.setTimeout((()=>{location.assign("/")}),700))}catch(t){In("error",t.response.data.message)}},_n=async(e,n)=>{try{const o="password"===n?"/api/v1/users/updateMyPassword":"/api/v1/users/updateMe";"success"===(await r(t)({method:"PATCH",url:o,data:e})).data.status&&(In("success",`${n.toUpperCase()} updated successfully!`),window.setTimeout((()=>{location.reload()}),700))}catch(t){In("error",t.response.data.message)}},Ln=(r(e)("pk_test_51NCk7XHsEhTZcNCRwFCQsqbJ9QLcmrw2b0iOAB8sDOXAsWoeUrvua9Sqra3g5lK2NmOaxpQEaxP1XV8DCyAgfHeO00nT8ec2Jv"),async e=>{try{const n=await r(t)(`/api/v1/bookings/checkout-session/${e}`);console.log(n),window.location.assign(n.data.session.url)}catch(t){console.log(t),In("error",t)}}),kn=document.getElementById("map"),Dn=document.querySelector(".form--login"),An=document.querySelector(".nav__el--logout"),Mn=document.querySelector(".form-user-data"),xn=document.querySelector(".form-user-password"),Nn=document.getElementById("book-tour");if(kn){o(JSON.parse(kn.dataset.locations))}Dn&&document.querySelector(".form").addEventListener("submit",(t=>{t.preventDefault();const e=document.getElementById("email").value,r=document.getElementById("password").value;Cn(e,r)})),An&&An.addEventListener("click",(async()=>{try{"success"===(await r(t)({method:"GET",url:"/api/v1/users/logout"})).data.status&&window.setTimeout((()=>{location.assign("/")}),700)}catch(t){In("error","Error loggin out. Please try again.")}})),Mn&&Mn.addEventListener("submit",(t=>{t.preventDefault();const e=new FormData;e.append("name",document.getElementById("name").value),e.append("email",document.getElementById("email").value),e.append("photo",document.getElementById("photo").files[0]),_n(e,"data")})),xn&&xn.addEventListener("submit",(async t=>{t.preventDefault(),document.querySelector(".btn--save-password").textContent="Updating...";const e=document.getElementById("password-current").value,r=document.getElementById("password").value,n=document.getElementById("password-confirm").value;document.getElementById("email").value;await _n({passwordCurrent:e,password:r,passwordConfirm:n},"password"),document.getElementById("password-current").value="",document.getElementById("password").value="",document.getElementById("password-confirm").value="",document.querySelector(".btn--save-password").textContent="Save password"})),Nn&&Nn.addEventListener("click",(t=>{t.target.textContent="Processing...";const{tourId:e}=t.target.dataset;Ln(e)}));const Rn=document.querySelector("body").dataset.alert;Rn&&In("success",Rn,20);
//# sourceMappingURL=index.js.map
